{% extends "base.html" %}


{% block content %}

        <form class="form-signin"  method="post" action=".">
                {% csrf_token %}
                	<h3 class="form-signin-heading">Please sign up</h3>
					<div class="form-group" >
					 <p class="required"> <label for="id_username">Username:</label>
					     <input class="form-control"  id="id_username" maxlength="30" name="username" type="text"  placeholder="Enter username"/></p>
					</div>
					 <div class="form-group">
					    <p class="required"><label for="id_email">E-mail:</label>
					        <input class="form-control" id="id_email" name="email" type="email" placeholder="Enter email" /></p>
					 </div>
					<div class="form-group">
					    <p class="required"><label for="id_password1">Password:</label>
					        <input class="form-control" id="id_password1" name="password1" type="password" placeholder="Enter password" /></p>
					</div>
					<div class="form-group">
					    <p class="required"><label for="id_password2">Password (again):</label>
					 <input class="form-control" id="id_password2" name="password2" type="password" placeholder="Enter password again" /></p>
					</div>

					{% if form.errors %} 
						<div class="alert alert-danger">
			                {% for field in form %}
						         {{ field.errors }}
			    			{% endfor %}
			    			{{ form.non_field_errors }} 
		    			</div>
	    			{% endif %}

	    			<div class="checkbox">
				    <label>
				      <input id="consent-box" type="checkbox"> Sign the <a data-toggle="modal" data-target="#myModal" >consent form </a> by clicking the checkbox
				    </label>
				  </div>
				  <button type="submit" id="create" class="btn btn-lg btn-primary btn-block" disabled="true">Sign Up </button>
        </form>
        <p align="center" >Already have an account? <a href="{% url 'auth_login' %}">Sign In </a></p>
        <!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		    <div class="modal-dialog">
		        <div class="modal-content">
		            <div class="modal-header">
		                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                <h3 class="modal-title" id="myModalLabel" align="center"> Consent Form </h3>
		            </div>
		            <div class="modal-body"> {% include 'collection/form_content.html' %} </div>
		            <div class="modal-footer">
		                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		            </div>
		        </div><!-- /.modal-content -->
		    </div><!-- /.modal -->
		</div>

<script> 
	
	$("#consent-box").click(function() {

		if ($(this).is(':checked')) {
			$("#create").removeAttr("disabled");  

		}
		else {
			$("#create").attr("disabled","true");  
		}
	});
</script>
{% endblock %}